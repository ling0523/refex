!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Refex=t():e.Refex=t()}(self,(function(){return(()=>{"use strict";var e={579:(e,t,i)=>{var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(244);i(393),e.exports={proxy:function(e){return new r(e)},useProxy:function(e){return e.$data},h:function(e,t){if("string"!=typeof e)throw new TypeError("The tag name is undefined");"object"==(void 0===t?"undefined":n(t))&&t||(t={});var i=t.attrs||{},r={};Array.isArray(t.cls)?t.cls.forEach((function(e){r[e]=!0})):"object"==n(t.cls)&&t.cls?r=Object.assign({},t.cls):"string"==typeof t.cls&&t.cls?r[t.cls]=!0:r={};var s=t.directives||{},o=t.events||{},a={};for(var c in o)a[c]={handler:o[c],params:[],modifier:void 0};var h=t.text,d=t.slots||[],f=!1!==t.if,l=t.props||[];return{tag:e,attrs:i,cls:r,directives:s,events:a,text:h,slots:d,_if:f,props:l}},parse:function(e,t,i){var n=Object.assign({},e.$data);return Object.assign(n,t.getForData()),t.parseExpression(n,i)}}},244:(e,t,i)=>{var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var o=i(393),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$data=this._toProxy([],t||{}),this.$watchers={},this.$vnode=null,this._vnode=null,this.$template=null,this.$directives={},this.$components={},this.onBeforeMount=function(){},this.onMounted=function(){},this.onBeforeUpdate=function(){},this.onUpdated=function(){},this._init()}return r(e,[{key:"_init",value:function(){this.directive("show",{mounted:function(e,t){t||(e.style.display="none")},updated:function(e,t){e.style.display=t?"":"none"}})}},{key:"component",value:function(e,t){if(!t)return e?this.$components[e]:this.$components;if(!e)throw new TypeError("You need to give the component a name");if(this.$components[e])throw new Error('The component named "'+e+'" is already defined');var i=[],r=null;if("function"==typeof t?r=t:"object"==(void 0===t?"undefined":n(t))&&t&&(i=t.props||[],r=t.render),"function"!=typeof r)throw new TypeError('The component named "'+e+'" need to define a handling method');this.$components[e]={props:i,render:r}}},{key:"directive",value:function(e,t){if(!t)return e?this.$directives[e]:this.$directives;if(!e)throw new TypeError("You need to give the directive a name");if(this.$directives[e])throw new Error('The directive named "'+e+'" is already defined');var i=function(){},r=function(){},s=function(){},o=function(){},a=function(){},c=function(){};"function"==typeof t?r=t:"object"==(void 0===t?"undefined":n(t))&&t&&(i=t.beforeMount||function(){},r=t.mounted||function(){},s=t.beforeUpdate||function(){},o=t.updated||function(){},a=t.beforeUnmount||function(){},c=t.unmounted||function(){}),this.$directives[e]={beforeMount:i,mounted:r,beforeUpdate:s,updated:o,beforeUnmount:a,unmounted:c}}},{key:"mount",value:function(e){if("function"==typeof this.onBeforeMount&&this.onBeforeMount.apply(this.$data),!e)throw new Error("You must specify an element to mount");if("string"==typeof e&&(e=document.body.querySelector(e)),!(e instanceof Node&&1===e.nodeType))throw new TypeError("The mount element is undefined");return this.$template=e.cloneNode(!0),this.$vnode=this._compile("vnode",e),this._vnode=this._compile("vnode",e),this.$vnode.dealFor(this),this._vnode.dealFor(this),this.$vnode.init(this),this._vnode.init(this),this.$vnode.dealComponent(this),this._vnode.dealComponent(this),this._vnode.dealDirectives(this,"beforeMount"),this._vnode.render(this),e.parentNode.insertBefore(this._vnode.elm,e),e.remove(),this._vnode.dealDirectives(this,"mounted"),"function"==typeof this.onMounted&&this.onMounted.apply(this.$data),this}},{key:"_compile",value:function(e,t){var i=null;if(1==t.nodeType){var n={},r={},s={},a="",c=!0,h=!1,d=void 0;try{for(var f,l=t.attributes[Symbol.iterator]();!(c=(f=l.next()).done);c=!0){var u=f.value;if(u.nodeName.startsWith("@")){var v=u.nodeName.indexOf(":");if(v>0){var p=u.nodeName.substr(1,v-1),y=u.nodeName.substr(v+1);p&&(r[p]={modifier:y||void 0,exp:u.nodeValue})}else{var m=u.nodeName.substr(1);m&&(r[m]={modifier:void 0,exp:u.nodeValue})}}else if(u.nodeName.startsWith("#")){var g=u.nodeName.substr(1).split(".");s[g[0]]={handler:u.nodeValue,modifier:g.filter((function(e,t){return t>0}))}}else"class"==u.nodeName?a=u.nodeValue.trim():"refex-cloak"!=u.nodeName&&(n[u.nodeName]=u.nodeValue)}}catch(e){h=!0,d=e}finally{try{!c&&l.return&&l.return()}finally{if(h)throw d}}i=new o(t.nodeName,n,a,r,s,void 0,e,t.nodeType);for(var b=t.childNodes,x=b.length,w=0;w<x;w++){var E=this._compile(e+"_"+w,b[w]);E&&(E.parent=i,i.children.push(E))}}else 3!=t.nodeType&&8!=t.nodeType||(i=new o(t.nodeName,{},"",{},{},t.nodeValue,e,t.nodeType));return i}},{key:"_updateVnodes",value:function(e,t,i){this.$vnode=this._compile("vnode",this.$template),this.$vnode.dealFor(this),this.$vnode.init(this),this.$vnode.dealComponent(this),this._updateVnode(this.$vnode,this._vnode)}},{key:"_updateVnode",value:function(e,t){if(e.isSame(t)){var i=!e.equal(t);i&&t.dealDirectives(this,"beforeUpdate",!1),1==e.nodeType&&t.if?(this._updateDirectives(e,t),this._updateAttrs(e,t),this._updateClass(e,t),this._updateEvents(e,t),this._updateChildren(e,t)):3==e.nodeType&&this._updateText(e,t),i&&t.dealDirectives(this,"updated",!1)}else{var n=e.copy(),r=t.parent;n.parent=r,t.dealDirectives(this,"beforeUnmount");var s=t.getIndex();r.children.splice(s,1,n),n.dealDirectives(this,"beforeMount"),n.render(this),t.elm.parentNode.insertBefore(n.elm,t.elm),t.elm.remove(),t.dealDirectives(this,"unmounted"),n.dealDirectives(this,"mounted")}}},{key:"_updateDirectives",value:function(e,t){var i=e.compare(t,"directives",0),n=e.compare(t,"directives",1),r=Object.assign(i,n);for(var s in r)t.directives[s]=Object.assign({},r[s]);var o=e.compare(t,"directives",2);for(var a in o)delete t.directives[a]}},{key:"_updateChildren",value:function(e,t){var i=this;if(e.children.length==t.children.length){var n=!0,r=!1,o=void 0;try{for(var a,c=e.children[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var h=a.value,d=!0,f=!1,l=void 0;try{for(var u,v=t.children[Symbol.iterator]();!(d=(u=v.next()).done);d=!0){var p=u.value;h.id===p.id&&this._updateVnode(h,p)}}catch(e){f=!0,l=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw l}}}}catch(e){r=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw o}}}else t.children.forEach((function(e){e.dealDirectives(i,"beforeUnmount")})),t.elm.innerHTML="",t.children.forEach((function(e){e.dealDirectives(i,"unmounted")})),t.children=[].concat(s(e.children)),t.children.forEach((function(e){e.dealDirectives(i,"beforeMount"),e.render(i),t.elm.appendChild(e.elm),e.dealDirectives(i,"mounted")}))}},{key:"_updateText",value:function(e,t){e.text!==t.text&&(t.text=e.text,t.elm.nodeValue=t.text)}},{key:"_updateEvents",value:function(e,t){var i=this,n=e.compare(t,"events",0);for(var r in n)t.events[r]=n[r];var o=e.compare(t,"events",1),a=function(e){t.events[e]=o[e],t.elm.addEventListener(e,(function n(r){t.events[e].modifier.includes("self")&&r.currentTarget!=r.target||(t.events[e].modifier.includes("stop")&&r.stopPropagation(),t.events[e].modifier.includes("prevent")&&r.cancelable&&r.preventDefault(),"function"==typeof t.events[e].handler?t.events[e].handler.apply(i.$data,[r].concat(s(t.events[e].params))):t.executeExpression(i.$data,t.events[e].handler)(i.$data),t.events[e].modifier.includes("once")&&r.currentTarget.removeEventListener(e,n))}))};for(var c in o)a(c)}},{key:"_updateClass",value:function(e,t){if(JSON.stringify(e.cls)!=JSON.stringify(t.cls)){t.cls=Object.assign({},e.cls);var i=[];for(var n in t.cls)t.cls[n]&&i.push(n);i.length?t.elm.setAttribute("class",i.join(" ")):t.elm.removeAttribute("class")}}},{key:"_updateAttrs",value:function(e,t){var i=e.compare(t,"attrs",0),r=e.compare(t,"attrs",1),s=Object.assign(i,r);for(var o in s){var a=s[o];t.attrs[o]=a,!1===a||null==a?t.elm.removeAttribute(o):(!0===a&&(a=""),"object"===(void 0===a?"undefined":n(a))&&(a=JSON.stringify(a)),a=String(a),t.elm.setAttribute(o,a))}var c=e.compare(t,"attrs",2);for(var h in c)delete t.attrs[h],t.elm.removeAttribute(h)}},{key:"watch",value:function(e,t){if(!e)throw new TypeError("You must specify a property to watch");if("string"!=typeof e)throw new TypeError("The watch property expected a string");"function"!=typeof t&&(t=function(){});var i=this._parseProperty(e);if(this.$watchers[i])throw new Error('The watcher for "'+e+'" is already defined');return this.$watchers[i]=t,this}},{key:"unwatch",value:function(e){if("string"==typeof e){var t=this._parseProperty(e);this.$watchers[t]&&delete this.$watchers[t]}else this.$watchers={};return this}},{key:"_toProxy",value:function(e,t,i){var n=this,r=[].concat(s(e));if(!this._isObject(t))throw new TypeError("Cannot create proxy with a non-object as target or handler");for(var o in i&&r.push(i),t)this._isObject(t[o])&&(t[o]=this._toProxy(r,t[o],o));return new Proxy(t,{get:function(e,t){return n._getter(r,e,t)},set:function(e,t,i){return n._setter(r,e,t,i)},deleteProperty:function(e,t){return n._setter(r,e,t,void 0)}})}},{key:"_getter",value:function(e,t,i){return Reflect.get(t,i)}},{key:"_setter",value:function(e,t,i,r){var o=[].concat(s(e));o.push(i);var a=null;Array.isArray(t)?a=[].concat(s(t)):"object"==(void 0===t?"undefined":n(t))&&(a=Object.assign({},t));var c=t[i];if(Array.isArray(c)?c=[].concat(s(c)):"object"==(void 0===c?"undefined":n(c))&&c&&(c=Object.assign({},c)),Reflect.set(t,i,r),c!==r){"function"==typeof this.onBeforeUpdate&&this.onBeforeUpdate.apply(this.$data,[i,r,c,t]),this._updateVnodes(o,r,c);var h=e.join(".");a&&e.length&&this.$watchers[h]&&this.$watchers[h].apply(this,[t,a]);var d=o.join(".");this.$watchers[d]&&this.$watchers[d].apply(this,[r,c]),"function"==typeof this.onUpdated&&this.onUpdated.apply(this.$data,[i,r,c,t])}return!0}},{key:"_parseProperty",value:function(e){var t=[];return e.split(".").forEach((function(e){var i=e.match(/\[(.+?)\]/g);if(i){var n=e.replace(/\[(.+?)\]/g,"");t.push(n),i.forEach((function(e){t.push(e.substr(1,e.length-2))}))}else t.push(e)})),t.join(".")}},{key:"_isObject",value:function(e){return!("object"!=(void 0===e?"undefined":n(e))||!e)}}]),e}();e.exports=a},393:e=>{var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),n=function(){function e(t,i,n,r,s,o,a,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tag=t,this.attrs=i,this.cls=n,this.directives=r,this.events=s,this.text=o,this.id=a,this.nodeType=c,this.parent=void 0,this.children=[],this.isCloned=!1,this.elm=void 0,this.if=!0,this.forData={},this.useIf=!1,this.useElseIf=!1,this.useElse=!1}return i(e,[{key:"dealFor",value:function(e){var i=this;if(this.directives.for){var n,r=Object.assign({},e.$data);Object.assign(r,this.getForData());var s=this.parseFor(r,this.directives.for.exp);if(!s)throw new Error("Invalid @for expression: "+this.directives.for.exp);delete this.directives.for;var o=this.getIndex(),a=[];if(Array.isArray(s.for))for(var c=s.for.length,h=0;h<c;h++){var d=this.clone(h,s,h);d.parent=this.parent,a.push(d),d.children.forEach((function(t){t.dealFor(e)}))}else"object"==t(s.for)&&Object.keys(s.for).forEach((function(t,n){var r=i.clone(n,s,n,t);r.parent=i.parent,a.push(r),r.children.forEach((function(t){t.dealFor(e)}))}));(n=this.parent.children).splice.apply(n,[o,1].concat(a))}else this.children.forEach((function(t){t.dealFor(e)}))}},{key:"init",value:function(e){var i=Object.assign({},e.$data);if(Object.assign(i,this.getForData()),1==this.nodeType){if(this.directives.if){if(this.directives["else-if"]||this.directives.else)throw new Error('"@if" and "@else-if" and "@else" cannot be used on the same node');this.if=this.parseExpression(i,this.directives.if.exp),this.useIf=!0,delete this.directives.if}if(this.directives["else-if"]){if(this.directives.else)throw new Error('"@else-if" and "@else" cannot be used on the same node');var n=this.getPrevBrotherNode();if(!n||!n.useIf)throw new Error('"@else-if" cannot be used alone');n.if?this.if=!1:this.if=this.parseExpression(i,this.directives["else-if"].exp),this.useElseIf=!0,delete this.directives["else-if"]}if(this.directives.else){var r=this.getPrevBrotherNode();if(!r||!r.useIf&&!r.useElseIf)throw new Error('"@else" cannot be used alone');if(r.useIf)r.if?this.if=!1:this.if=!0;else if(r.useElseIf){var s=r.getPrevBrotherNode();if(!s||!s.useIf)throw new Error('"@else" cannot be used alone');r.if||s.if?this.if=!1:this.if=!0}this.useElse=!0,delete this.directives.else}for(var o in this.directives){if(!e.$directives[o])throw new Error("The @"+o+" directive is undefined");this.directives[o].value=this.parseExpression(i,this.directives[o].exp)}var a={};for(var c in this.attrs){var h,d=null;if(h=this.parseText(i,c),this.attrs[c].match(/^\{\{(.*?)\}\}$/g)){var f=this.attrs[c].trim().length-2,l=this.attrs[c].trim().substring(2,f);d=this.parseExpression(i,l)}else d=this.parseText(i,this.attrs[c]);""===d&&(d=!0),a[h]=d}if(this.attrs=a,this.cls){var u=this.cls.match(/^\{\{(.*?)\}\}$/g),v={};if(u){var p=this.cls.trim().length-2,y=this.cls.trim().substring(2,p),m=this.parseExpression(i,y);Array.isArray(m)?m.forEach((function(e){v[e]=!0})):"object"==(void 0===m?"undefined":t(m))&&m?v=Object.assign({},m):"string"==typeof m&&m&&(v[m]=!0)}else this.parseText(i,this.cls).split(/\s+/g).forEach((function(e){v[e]=!0}));this.cls=v}else this.cls={};for(var g in this.events)this.events[g]=this.eventHandler(i,g)}else 3==this.nodeType&&(this.text=this.parseText(i,this.text));this.children.forEach((function(t){t.init(e)}))}},{key:"eventHandler",value:function(e,t){var i=this,n=null,r=[],s=this.events[t].modifier||void 0;if(!this.events[t].handler)throw new TypeError("The value of #"+t+" shoud not be undefined");var o=/(.*)+\((.*)\)/g.exec(this.events[t].handler);return o?(n=this.parseExpression(e,o[1]),o[2]&&(r=o[2].split(",").map((function(t){return i.parseExpression(e,t)})))):"function"!=typeof(n=this.parseExpression(e,this.events[t].handler))&&(n=this.events[t].handler),{handler:n,params:r,modifier:s}}},{key:"dealComponent",value:function(i){var n=this.tag.toLocaleLowerCase();if(i.$components[n]){var r={};for(var s in this.attrs)i.$components[n].props.includes(s)&&(r[s]=this.attrs[s],delete this.attrs[s]);var o=i.$components[n].render.apply(i.$data,[r]);if(!o)throw new Error('The template for component "'+n+'" is invalid');var a=null;if("string"==typeof o){var c=document.createElement("div");c.innerHTML=o.trim();var h=c.childNodes[0];if(1!=h.nodeType)throw new TypeError('The template for component "'+n+'" is invalid');(a=i._compile(this.id,h)).dealFor(i),a.init(i)}else"object"==(void 0===o?"undefined":t(o))&&((a=new e(o.tag,o.attrs,o.cls,o.directives,o.events,void 0,this.id,1)).createChildrenVnodes(o),a.if=o._if);if(a){a.dealComponent(i),a.parent=this.parent,a.events=Object.assign(a.events,this.events),a.directives=Object.assign(a.directives,this.directives),a.cls=Object.assign(a.cls,this.cls),a.attrs=Object.assign(a.attrs,this.attrs);var d=this.getIndex();this.parent.children.splice(d,1,a)}}else this.children.forEach((function(e){e.dealComponent(i)}))}},{key:"createChildrenVnodes",value:function(t){var i=this;if(void 0===t.text||null===t.text)t.slots.forEach((function(t,n){var r=new e(t.tag,t.attrs,t.cls,t.directives,t.events,void 0,i.id+"_"+n,1);i.children.push(r),r.createChildrenVnodes(t)}));else{var n=document.createTextNode(t.text),r=new e(n.nodeName,{},{},{},{},t.text,this.id+"_0",n.nodeType);this.children=[r]}}},{key:"dealDirectives",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.if&&1==this.nodeType){var n=Object.assign({},e.$data);for(var r in Object.assign(n,this.getForData()),this.directives){var s=e.$directives[r],o=[],a=this.directives[r].exp,c=this.directives[r].modifier,h=this.directives[r].value;o="beforeMount"==t||"unmounted"==t?[h,c,a,this]:[this.elm,h,c,a,this],s[t]&&s[t].apply(e.$data,o)}i&&this.children.forEach((function(i){i.dealDirectives(e,t)}))}}},{key:"render",value:function(e){var i=this,n=null;if(this.if){if(1==this.nodeType){n=document.createElement(this.tag);var r=[];for(var s in this.cls)this.cls[s]&&r.push(s);for(var o in r.length&&n.setAttribute("class",r.join(" ")),this.attrs){var a=this.attrs[o];!1!==a&&null!=a&&(!0===a&&(a=""),"object"===(void 0===a?"undefined":t(a))&&(a=JSON.stringify(a)),a=String(a),n.setAttribute(o,a))}var c=function(t){n.addEventListener(t,(function n(r){i.events[t].modifier&&i.events[t].modifier.includes("self")&&r.currentTarget!=r.target||(i.events[t].modifier&&i.events[t].modifier.includes("stop")&&r.stopPropagation(),i.events[t].modifier&&i.events[t].modifier.includes("prevent")&&r.cancelable&&r.preventDefault(),"function"==typeof i.events[t].handler?i.events[t].handler.apply(e.$data,[r].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(i.events[t].params))):i.executeExpression(e.$data,i.events[t].handler)(e.$data),i.events[t].modifier&&i.events[t].modifier.includes("once")&&r.currentTarget.removeEventListener(t,n))}))};for(var h in this.events)c(h);this.children.forEach((function(t){t.render(e),n.appendChild(t.elm)}))}else 3==this.nodeType?n=document.createTextNode(this.text):8==this.nodeType&&(n=document.createComment(this.text));this.elm=n}else this.elm=document.createComment("@if")}},{key:"isSame",value:function(e){return this.tag===e.tag&&this.nodeType===e.nodeType&&this.if===e.if&&this.useIf===e.useIf&&this.useElseIf===e.useElseIf&&this.useElse===e.useElse}},{key:"compare",value:function(e,t,i){var n={};if(0==i)for(var r in this[t])e[t].hasOwnProperty(r)&&JSON.stringify(e[t][r])!==JSON.stringify(this[t][r])&&(n[r]=this[t][r]);else if(1==i)for(var s in this[t])e[t].hasOwnProperty(s)||(n[s]=this[t][s]);else if(2==i)for(var o in e[t])this[t].hasOwnProperty(o)||(n[o]=e[t][o]);return n}},{key:"getForData",value:function(){var e={};return Object.assign(e,this.forData),this.parent&&Object.assign(e,this.parent.getForData()),e}},{key:"copy",value:function(){var t=this.id,i=this.tag,n=Object.assign({},this.directives),r=new e(i,Object.assign({},this.attrs),Object.assign({},this.cls),n,Object.assign({},this.events),this.text,t,this.nodeType);r.if=this.if,r.isCloned=this.isCloned,r.forData=Object.assign({},this.forData),r.useIf=this.useIf,r.useElseIf=this.useElseIf,r.useElse=this.useElse;var s=[],o=!0,a=!1,c=void 0;try{for(var h,d=this.children[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){var f=h.value.copy();f.parent=r,s.push(f)}}catch(e){a=!0,c=e}finally{try{!o&&d.return&&d.return()}finally{if(a)throw c}}return r.children=s,r}},{key:"clone",value:function(t,i,n,r){var s=this.id+"_copy_"+t,o=this.tag,a=Object.assign({},this.directives),c=new e(o,Object.assign({},this.attrs),this.cls,a,Object.assign({},this.events),this.text,s,this.nodeType);c.isCloned=!0,r?(c.forData[i.item]=i.for[r],c.forData[i.index]=n,c.forData[i.key]=r):(c.forData[i.item]=i.for[n],c.forData[i.index]=n);var h=[];for(var d in this.children){var f=this.children[d].clone(d,i,n,r);f.parent=c,h.push(f)}return c.children=h,c}},{key:"equal",value:function(e){return this.id==e.id&&this.tag==e.tag&&this.nodeType==e.nodeType&&this.if==e.if&&this.isCloned==e.isCloned&&this.useIf==e.useIf&&this.useElseIf==e.useElseIf&&this.useElse==e.useElse&&(1==this.nodeType?JSON.stringify(this.attrs)==JSON.stringify(e.attrs)&&JSON.stringify(this.cls)==JSON.stringify(e.cls)&&JSON.stringify(this.directives)==JSON.stringify(e.directives)&&JSON.stringify(this.events)==JSON.stringify(e.events)&&this.children.length==e.children.length&&this.children.every((function(t,i){return t.equal(e.children[i])})):this.text==e.text)}},{key:"getPrevBrotherNode",value:function(){var e=this.getIndex();if(e<=0)return null;var t=this.parent.children[e-1];return 1!=t.nodeType&&(t=t.getPrevBrotherNode()),t}},{key:"getIndex",value:function(){var e=-1;if(this.parent)for(var t=this.parent.children.length,i=0;i<t;i++)if(this.parent.children[i]===this){e=i;break}return e}},{key:"parseFor",value:function(e,i){var n=i.match(/([^]*?)\s+(?:in|of)\s+([^]*)/);if(n){var r=this.parseExpression(e,n[2].trim()),s=n[1].trim().replace(/[\(\)]/g,"").trim().split(","),o={for:r,item:s[0].trim()};return Array.isArray(r)?s.length>1&&(o.index=s[1].trim()):"object"==(void 0===r?"undefined":t(r))&&r&&(s.length>1&&(o.key=s[1].trim()),s.length>2&&(o.index=s[2].trim())),o}}},{key:"parseText",value:function(e,i){var n=this;return i.replace(/\{\{(.*?)\}\}/g,(function(i,r){var s=n.parseExpression(e,r.trim());return"object"===(void 0===s?"undefined":t(s))?JSON.stringify(s):String(s)}))}},{key:"parseExpression",value:function(e,t){var i="";for(var n in e)i+="let "+n+" = scope['"+n+"'];";return i+="return "+t,new Function("scope",i)(e)}},{key:"executeExpression",value:function(e,t){var i="";for(var n in e)i+="let "+n+" = scope['"+n+"'];";for(var r in i+=t+";",e)i+="scope['"+r+"'] = "+r+";";return new Function("scope",i)}}]),e}();e.exports=n}},t={};return function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}(579)})()}));